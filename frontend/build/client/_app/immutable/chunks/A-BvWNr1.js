import{w as l}from"./CWuBUEw-.js";function d(){const s={items:[],subtotal:0,total:0,itemCount:0},{subscribe:c,set:o,update:u}=l(s);function i(e){const n=e.reduce((r,t)=>r+t.price*t.quantity,0),a=e.reduce((r,t)=>r+t.quantity,0);return{items:e,subtotal:n,total:n,itemCount:a}}return{subscribe:c,addProduct:e=>{u(n=>{const a=n.items.find(t=>t.id===e.id);let r;return a?r=n.items.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):r=[...n.items,{...e,quantity:1}],i(r)})},removeProduct:e=>{u(n=>{const a=n.items.filter(r=>r.id!==e);return i(a)})},updateQuantity:(e,n)=>{u(a=>{const r=a.items.map(t=>t.id===e?{...t,quantity:Math.max(1,n)}:t);return i(r)})},clear:()=>{o(s)},getCart:()=>{let e;return c(a=>{e=a})(),e}}}const b=d();export{b as c};
