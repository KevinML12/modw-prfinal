import{R as re,S as ce,i as ie,s as de,n as ue,d as m,T as pe,U as _e,V as oe,c as d,o as L,a as M,b as i,q as me,f as v,g as E,e as T,u as O,j as q,l as y,k as V,v as S,x as fe,w as he,F as ge,P as K,h as ve,L as ye,N as be,G as se,O as xe,M as ke,E as Ce}from"../chunks/BLzuDzTN.js";import{e as ae,u as we,o as Ee}from"../chunks/DD-Pidvo.js";import"../chunks/IHki7fMi.js";import{c as $e,b as F}from"../chunks/Dxf3pmbq.js";async function Ie({fetch:s}){try{const e=await s("http://localhost:8080/api/v1/products");if(!response.ok)throw new Error(`Error al obtener los productos: ${response.statusText}`);return{products:await response.json()}}catch(e){return console.error("No se pudo conectar a la API del backend:",e),{products:[],error:"No se pudieron cargar los productos. Intenta de nuevo más tarde."}}}const Ue=Object.freeze(Object.defineProperty({__proto__:null,load:Ie},Symbol.toStringTag,{value:"Module"}));function Pe(s){const e=s-1;return e*e*e+1}function Te(s,{delay:e=0,duration:o=400,easing:t=Pe,x:r=0,y:n=0,opacity:u=0}={}){const h=getComputedStyle(s),_=+h.opacity,c=h.transform==="none"?"":h.transform,g=_*(1-u),[f,C]=re(r),[w,p]=re(n);return{delay:e,duration:o,easing:t,css:($,I)=>`
			transform: ${c} translate(${(1-$)*f}${C}, ${(1-$)*w}${p});
			opacity: ${_-g*I}`}}function Ve(s){let e,o,t,r,n,u,h,_,c,g,f,C=s[0].name+"",w,p,$,I,a=s[0].description.substring(0,50)+"",l,b,A,P,D,N=s[1](s[0].price)+"",G,B,j,W="Añadir",Q,R,X;return{c(){e=y("div"),o=y("div"),t=y("a"),r=y("img"),_=V(),c=y("div"),g=y("div"),f=y("a"),w=S(C),$=V(),I=y("p"),l=S(a),b=S("..."),A=V(),P=y("div"),D=y("p"),G=S(N),B=V(),j=y("button"),j.textContent=W,this.h()},l(x){e=v(x,"DIV",{class:!0});var k=E(e);o=v(k,"DIV",{class:!0});var Y=E(o);t=v(Y,"A",{href:!0});var Z=E(t);r=v(Z,"IMG",{src:!0,alt:!0,class:!0,loading:!0}),Z.forEach(m),Y.forEach(m),_=T(k),c=v(k,"DIV",{class:!0});var H=E(c);g=v(H,"DIV",{});var U=E(g);f=v(U,"A",{href:!0,class:!0});var ee=E(f);w=O(ee,C),ee.forEach(m),$=T(U),I=v(U,"P",{class:!0});var J=E(I);l=O(J,a),b=O(J,"..."),J.forEach(m),U.forEach(m),A=T(H),P=v(H,"DIV",{class:!0});var z=E(P);D=v(z,"P",{class:!0});var te=E(D);G=O(te,N),te.forEach(m),B=T(z),j=v(z,"BUTTON",{class:!0,"data-svelte-h":!0}),q(j)!=="svelte-gcbfmo"&&(j.textContent=W),z.forEach(m),H.forEach(m),k.forEach(m),this.h()},h(){oe(r.src,n=s[0].image_url||"/images/placeholder.jpg")||d(r,"src",n),d(r,"alt",u=s[0].name),d(r,"class","h-64 w-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-110"),d(r,"loading","lazy"),d(t,"href",h=`/product/${s[0].id}`),d(o,"class","relative overflow-hidden"),d(f,"href",p=`/product/${s[0].id}`),d(f,"class","font-headings text-text text-lg font-medium hover:underline"),d(I,"class","font-body mt-1 text-sm text-gray-500"),d(D,"class","font-body text-secondary text-xl font-semibold"),d(j,"class","bg-primary rounded-md px-3 py-1.5 text-sm font-medium text-white transition-colors hover:bg-secondary focus:bg-secondary"),d(P,"class","mt-4 flex items-center justify-between"),d(c,"class","flex flex-1 flex-col justify-between p-4"),d(e,"class","group flex flex-col overflow-hidden rounded-lg bg-white shadow-sm transition-shadow duration-300 hover:shadow-lg")},m(x,k){M(x,e,k),i(e,o),i(o,t),i(t,r),i(e,_),i(e,c),i(c,g),i(g,f),i(f,w),i(g,$),i(g,I),i(I,l),i(I,b),i(c,A),i(c,P),i(P,D),i(D,G),i(P,B),i(P,j),R||(X=me(j,"click",s[2]),R=!0)},p(x,[k]){k&1&&!oe(r.src,n=x[0].image_url||"/images/placeholder.jpg")&&d(r,"src",n),k&1&&u!==(u=x[0].name)&&d(r,"alt",u),k&1&&h!==(h=`/product/${x[0].id}`)&&d(t,"href",h),k&1&&C!==(C=x[0].name+"")&&L(w,C),k&1&&p!==(p=`/product/${x[0].id}`)&&d(f,"href",p),k&1&&a!==(a=x[0].description.substring(0,50)+"")&&L(l,a),k&1&&N!==(N=x[1](x[0].price)+"")&&L(G,N)},i(x){x&&(Q||pe(()=>{Q=_e(e,Te,{y:20,duration:300,delay:50}),Q.start()}))},o:ue,d(x){x&&m(e),R=!1,X()}}}function je(s,e,o){let{product:t}=e;const r=u=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(u);function n(){$e.addProduct(t),console.log("Producto añadido:",t.name)}return s.$$set=u=>{"product"in u&&o(0,t=u.product)},[t,r,n]}class Ae extends ce{constructor(e){super(),ie(this,e,je,Ve,de,{product:0})}}function ne(s,e,o){const t=s.slice();return t[4]=e[o],t}function De(s){let e,o='<p class="text-xl">Aún no hay productos en la colección.</p> <p>Pronto agregaremos nuevas piezas únicas.</p>';return{c(){e=y("div"),e.innerHTML=o,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1r58icl"&&(e.innerHTML=o),this.h()},h(){d(e,"class","text-center text-gray-500"),K(e,"font-family",s[2].body)},m(t,r){M(t,e,r)},p:ue,d(t){t&&m(e)}}}function Me(s){let e,o,t="Error al Cargar Productos",r,n,u,h,_,c="Asegúrate de que el contenedor del backend (`phoenix_backend`) esté corriendo.";return{c(){e=y("div"),o=y("h3"),o.textContent=t,r=V(),n=y("p"),u=S(s[1]),h=V(),_=y("p"),_.textContent=c,this.h()},l(g){e=v(g,"DIV",{class:!0});var f=E(e);o=v(f,"H3",{class:!0,"data-svelte-h":!0}),q(o)!=="svelte-dg8x74"&&(o.textContent=t),r=T(f),n=v(f,"P",{class:!0});var C=E(n);u=O(C,s[1]),C.forEach(m),h=T(f),_=v(f,"P",{class:!0,"data-svelte-h":!0}),q(_)!=="svelte-kr1xol"&&(_.textContent=c),f.forEach(m),this.h()},h(){d(o,"class","font-bold text-red-800"),d(n,"class","text-red-700"),d(_,"class","mt-2 text-sm text-gray-600"),d(e,"class","rounded-lg border border-red-300 bg-red-50 p-4 text-center")},m(g,f){M(g,e,f),i(e,o),i(e,r),i(e,n),i(n,u),i(e,h),i(e,_)},p(g,f){f&2&&L(u,g[1])},d(g){g&&m(e)}}}function le(s,e){let o,t,r;return t=new Ae({props:{product:e[4]}}),{key:s,first:null,c(){o=se(),ke(t.$$.fragment),this.h()},l(n){o=se(),xe(t.$$.fragment,n),this.h()},h(){this.first=o},m(n,u){M(n,o,u),be(t,n,u),r=!0},p(n,u){e=n;const h={};u&1&&(h.product=e[4]),t.$set(h)},i(n){r||(he(t.$$.fragment,n),r=!0)},o(n){fe(t.$$.fragment,n),r=!1},d(n){n&&m(o),ye(t,n)}}}function Ne(s){let e,o,t,r,n="Nuestra Colección",u,h,_,c=[],g=new Map,f;document.title=F.seo.title;function C(a,l){if(a[1])return Me;if(a[0].length===0)return De}let w=C(s),p=w&&w(s),$=ae(s[0]);const I=a=>a[4].id;for(let a=0;a<$.length;a+=1){let l=ne(s,$,a),b=I(l);g.set(b,c[a]=le(b,l))}return{c(){e=y("meta"),o=V(),t=y("section"),r=y("h1"),r.textContent=n,u=V(),p&&p.c(),h=V(),_=y("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){const l=ve("svelte-11gwlkj",document.head);e=v(l,"META",{name:!0,content:!0}),l.forEach(m),o=T(a),t=v(a,"SECTION",{class:!0});var b=E(t);r=v(b,"H1",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1efkf7n"&&(r.textContent=n),u=T(b),p&&p.l(b),h=T(b),_=v(b,"DIV",{class:!0});var A=E(_);for(let P=0;P<c.length;P+=1)c[P].l(A);A.forEach(m),b.forEach(m),this.h()},h(){d(e,"name","description"),d(e,"content",F.seo.description),d(r,"class","mb-8 text-center text-4xl font-bold tracking-tight md:text-5xl"),K(r,"font-family",s[2].headings),K(r,"color",s[3].text),d(_,"class","grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"),d(t,"class","mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8")},m(a,l){i(document.head,e),M(a,o,l),M(a,t,l),i(t,r),i(t,u),p&&p.m(t,null),i(t,h),i(t,_);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(_,null);f=!0},p(a,[l]){w===(w=C(a))&&p?p.p(a,l):(p&&p.d(1),p=w&&w(a),p&&(p.c(),p.m(t,h))),l&1&&($=ae(a[0]),Ce(),c=we(c,l,I,1,a,$,g,_,Ee,le,null,ne),ge())},i(a){if(!f){for(let l=0;l<$.length;l+=1)he(c[l]);f=!0}},o(a){for(let l=0;l<c.length;l+=1)fe(c[l]);f=!1},d(a){a&&(m(o),m(t)),m(e),p&&p.d();for(let l=0;l<c.length;l+=1)c[l].d()}}}function Oe(s,e,o){let{products:t=[]}=e,{error:r=null}=e;const n=F.identity.fonts,u=F.identity.colors;return s.$$set=h=>{"products"in h&&o(0,t=h.products),"error"in h&&o(1,r=h.error)},[t,r,n,u]}class ze extends ce{constructor(e){super(),ie(this,e,Oe,Ne,de,{products:0,error:1})}}export{ze as component,Ue as universal};
