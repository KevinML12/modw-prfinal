import{O as yt,S as Vt,i as Dt,s as Pt,n as J,d,t as Et,b as X,e as r,c as q,p as l,E as Tt,J as kt,j as I,f,g,w as F,h as N,m as V,k as p,l as O,P as Mt,Q as jt,v as wt,u as Lt,R as ot,T as nt}from"../chunks/Lu49ep7q.js";import"../chunks/IHki7fMi.js";import{b as Ct}from"../chunks/DF0AeUBT.js";import{c as At}from"../chunks/A-BvWNr1.js";import{c as Ht}from"../chunks/DZB2pNWn.js";async function zt({fetch:s,params:t}){const a=t.id;try{const e=await s(`/api/v1/products/${a}`);if(!e.ok){let i=`Error ${e.status}: ${e.statusText}`;if(e.status===404)i="Producto no encontrado.";else try{const m=await e.json();m&&m.error&&(i=m.error)}catch{}throw new Error(`No se pudo cargar el producto: ${i}`)}return{product:await e.json(),error:null}}catch(e){return console.error(`Error cargando producto ID ${a}:`,e),{product:null,error:e.message||"Error al cargar el producto."}}}const Zt=Object.freeze(Object.defineProperty({__proto__:null,load:zt},Symbol.toStringTag,{value:"Module"}));function St(s){const t=s-1;return t*t*t+1}function $t(s,{delay:t=0,duration:a=400,easing:e=St,x:c=0,y:i=0,opacity:m=0}={}){const o=getComputedStyle(s),n=+o.opacity,h=o.transform==="none"?"":o.transform,b=n*(1-m),[v,j]=yt(c),[D,L]=yt(i);return{delay:t,duration:a,easing:e,css:(T,w)=>`
			transform: ${h} translate(${(1-T)*v}${j}, ${(1-T)*D}${L});
			opacity: ${n-b*w}`}}function It(s){let t,a;return{c(){t=p("meta"),this.h()},l(e){t=f(e,"META",{name:!0,content:!0}),this.h()},h(){var e;l(t,"name","description"),l(t,"content",a=(e=s[0].description)==null?void 0:e.substring(0,150))},m(e,c){q(e,t,c)},p(e,c){var i;c&1&&a!==(a=(i=e[0].description)==null?void 0:i.substring(0,150))&&l(t,"content",a)},d(e){e&&d(t)}}}function Bt(s){let t,a='<div class="inline-block"><div class="w-12 h-12 bg-gray-200 rounded-full animate-pulse mb-4"></div></div> <p class="text-text-secondary text-lg">Cargando producto...</p>';return{c(){t=p("div"),t.innerHTML=a,this.h()},l(e){t=f(e,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-e61ld9"&&(t.innerHTML=a),this.h()},h(){l(t,"class","text-center py-12")},m(e,c){q(e,t,c)},p:J,i:J,o:J,d(e){e&&d(t)}}}function Nt(s){let t,a,e,c,i,m,o,n,h,b=s[0].name+"",v,j,D,L="Producto artesanal único • Disponible en stock",T,w,A,z="Precio",x,G,S=s[2](s[0].price)+"",y,K,u,E,P=s[0].description+"",Q,W,$,C,M,Y,it,Z,ct,R,ft='<h3 class="font-bold text-text-primary mb-4">Detalles del Producto</h3> <ul class="space-y-3 text-sm text-text-secondary"><li class="flex items-start gap-3"><span class="text-primary-magenta font-bold">✓</span> <span>Hecho con materiales nobles y sostenibles</span></li> <li class="flex items-start gap-3"><span class="text-primary-magenta font-bold">✓</span> <span>Empaque premium incluido</span></li> <li class="flex items-start gap-3"><span class="text-primary-magenta font-bold">✓</span> <span>Envío seguro a toda Guatemala</span></li> <li class="flex items-start gap-3"><span class="text-primary-magenta font-bold">✓</span> <span>Garantía de satisfacción</span></li></ul>',dt,ut,pt;function mt(_,k){return _[0].stock>0?Gt:qt}let tt=mt(s),H=tt(s);function vt(_,k){return _[0].stock===0?Ft:Ut}let et=vt(s),U=et(s);return{c(){t=p("div"),a=p("div"),e=p("img"),m=V(),o=p("div"),n=p("div"),h=p("h1"),v=O(b),j=V(),D=p("p"),D.textContent=L,T=V(),w=p("div"),A=p("p"),A.textContent=z,x=V(),G=p("p"),y=O(S),K=V(),u=p("div"),E=p("p"),Q=O(P),W=V(),H.c(),$=V(),C=p("button"),M=nt("svg"),Y=nt("path"),it=V(),U.c(),ct=V(),R=p("div"),R.innerHTML=ft,this.h()},l(_){t=f(_,"DIV",{class:!0});var k=g(t);a=f(k,"DIV",{class:!0});var ht=g(a);e=f(ht,"IMG",{src:!0,alt:!0,class:!0}),ht.forEach(d),m=I(k),o=f(k,"DIV",{class:!0});var B=g(o);n=f(B,"DIV",{});var at=g(n);h=f(at,"H1",{class:!0});var _t=g(h);v=N(_t,b),_t.forEach(d),j=I(at),D=f(at,"P",{class:!0,"data-svelte-h":!0}),F(D)!=="svelte-dajv2d"&&(D.textContent=L),at.forEach(d),T=I(B),w=f(B,"DIV",{class:!0});var rt=g(w);A=f(rt,"P",{class:!0,"data-svelte-h":!0}),F(A)!=="svelte-1wsuz1z"&&(A.textContent=z),x=I(rt),G=f(rt,"P",{class:!0});var gt=g(G);y=N(gt,S),gt.forEach(d),rt.forEach(d),K=I(B),u=f(B,"DIV",{});var lt=g(u);E=f(lt,"P",{class:!0});var bt=g(E);Q=N(bt,P),bt.forEach(d),W=I(lt),H.l(lt),lt.forEach(d),$=I(B),C=f(B,"BUTTON",{class:!0});var st=g(C);M=ot(st,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var xt=g(M);Y=ot(xt,"path",{d:!0}),g(Y).forEach(d),xt.forEach(d),it=I(st),U.l(st),st.forEach(d),ct=I(B),R=f(B,"DIV",{class:!0,"data-svelte-h":!0}),F(R)!=="svelte-15cosjd"&&(R.innerHTML=ft),B.forEach(d),k.forEach(d),this.h()},h(){wt(e.src,c=s[0].image_url||"/images/placeholder.jpg")||l(e,"src",c),l(e,"alt",i=s[0].name),l(e,"class","w-full h-auto object-cover hover:scale-105 transition-transform duration-300"),l(a,"class","rounded-2xl overflow-hidden border-2 border-gray-200 shadow-soft"),l(h,"class","text-4xl md:text-5xl font-black text-text-primary mb-3"),l(D,"class","text-text-secondary text-base"),l(A,"class","text-sm text-text-secondary mb-2"),l(G,"class","text-4xl font-black text-primary-magenta"),l(w,"class","pb-6 border-b-2 border-gray-200"),l(E,"class","text-lg text-text-primary leading-relaxed mb-4"),l(Y,"d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"),l(M,"class","w-6 h-6"),l(M,"fill","currentColor"),l(M,"viewBox","0 0 24 24"),l(M,"xmlns","http://www.w3.org/2000/svg"),C.disabled=Z=s[0].stock===0,l(C,"class","w-full bg-gradient-magenta hover:shadow-magenta disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold text-lg py-4 px-6 rounded-2xl transition-all duration-300 hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-2 "),l(R,"class","bg-bg-card rounded-xl p-6 border-2 border-gray-200"),l(o,"class","flex flex-col gap-6"),l(t,"class","grid grid-cols-1 md:grid-cols-2 gap-12 items-start")},m(_,k){q(_,t,k),r(t,a),r(a,e),r(t,m),r(t,o),r(o,n),r(n,h),r(h,v),r(n,j),r(n,D),r(o,T),r(o,w),r(w,A),r(w,x),r(w,G),r(G,y),r(o,K),r(o,u),r(u,E),r(E,Q),r(u,W),H.m(u,null),r(o,$),r(o,C),r(C,M),r(M,Y),r(C,it),U.m(C,null),r(o,ct),r(o,R),ut||(pt=Lt(C,"click",s[3]),ut=!0)},p(_,k){k&1&&!wt(e.src,c=_[0].image_url||"/images/placeholder.jpg")&&l(e,"src",c),k&1&&i!==(i=_[0].name)&&l(e,"alt",i),k&1&&b!==(b=_[0].name+"")&&X(v,b),k&1&&S!==(S=_[2](_[0].price)+"")&&X(y,S),k&1&&P!==(P=_[0].description+"")&&X(Q,P),tt===(tt=mt(_))&&H?H.p(_,k):(H.d(1),H=tt(_),H&&(H.c(),H.m(u,null))),et!==(et=vt(_))&&(U.d(1),U=et(_),U&&(U.c(),U.m(C,null))),k&1&&Z!==(Z=_[0].stock===0)&&(C.disabled=Z)},i(_){_&&(dt||Mt(()=>{dt=jt(t,$t,{y:20,duration:300}),dt.start()}))},o:J,d(_){_&&d(t),H.d(),U.d(),ut=!1,pt()}}}function Ot(s){let t,a,e="Error",c,i,m,o,n,h="Volver a la Tienda";return{c(){t=p("div"),a=p("h2"),a.textContent=e,c=V(),i=p("p"),m=O(s[1]),o=V(),n=p("a"),n.textContent=h,this.h()},l(b){t=f(b,"DIV",{class:!0});var v=g(t);a=f(v,"H2",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-15g9sib"&&(a.textContent=e),c=I(v),i=f(v,"P",{class:!0});var j=g(i);m=N(j,s[1]),j.forEach(d),o=I(v),n=f(v,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(n)!=="svelte-9pmauf"&&(n.textContent=h),v.forEach(d),this.h()},h(){l(a,"class","text-2xl font-bold text-red-700 mb-2"),l(i,"class","text-red-600 mb-6"),l(n,"href","/"),l(n,"class","inline-block bg-primary-magenta text-white font-semibold py-3 px-6 rounded-lg hover:shadow-magenta transition-all duration-300"),l(t,"class","bg-red-50 border-l-4 border-red-400 p-8 rounded-lg")},m(b,v){q(b,t,v),r(t,a),r(t,c),r(t,i),r(i,m),r(t,o),r(t,n)},p(b,v){v&2&&X(m,b[1])},i:J,o:J,d(b){b&&d(t)}}}function qt(s){let t,a=`<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
								Agotado`;return{c(){t=p("div"),t.innerHTML=a,this.h()},l(e){t=f(e,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1a9fifj"&&(t.innerHTML=a),this.h()},h(){l(t,"class","flex items-center gap-2 text-sm font-semibold text-red-600 bg-red-50 w-fit px-4 py-2 rounded-lg")},m(e,c){q(e,t,c)},p:J,d(e){e&&d(t)}}}function Gt(s){let t,a,e,c,i=s[0].stock+"",m,o;return{c(){t=p("div"),a=nt("svg"),e=nt("path"),c=O(`\r
								En stock: `),m=O(i),o=O(" unidades"),this.h()},l(n){t=f(n,"DIV",{class:!0});var h=g(t);a=ot(h,"svg",{class:!0,fill:!0,viewBox:!0});var b=g(a);e=ot(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(e).forEach(d),b.forEach(d),c=N(h,`\r
								En stock: `),m=N(h,i),o=N(h," unidades"),h.forEach(d),this.h()},h(){l(e,"fill-rule","evenodd"),l(e,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),l(e,"clip-rule","evenodd"),l(a,"class","w-5 h-5"),l(a,"fill","currentColor"),l(a,"viewBox","0 0 20 20"),l(t,"class","flex items-center gap-2 text-sm font-semibold text-green-600 bg-green-50 w-fit px-4 py-2 rounded-lg")},m(n,h){q(n,t,h),r(t,a),r(a,e),r(t,c),r(t,m),r(t,o)},p(n,h){h&1&&i!==(i=n[0].stock+"")&&X(m,i)},d(n){n&&d(t)}}}function Ut(s){let t;return{c(){t=O("Agregar al Carrito")},l(a){t=N(a,"Agregar al Carrito")},m(a,e){q(a,t,e)},d(a){a&&d(t)}}}function Ft(s){let t;return{c(){t=O("Agotado")},l(a){t=N(a,"Agotado")},m(a,e){q(a,t,e)},d(a){a&&d(t)}}}function Jt(s){var K;let t,a,e,c,i,m,o,n,h="Tienda",b,v,j="/",D,L,T=(((K=s[0])==null?void 0:K.name)||"Producto")+"",w,A,z;document.title=t=(s[0]?s[0].name:"Error")+" | "+Ct.identity.name;let x=s[0]&&It(s);function G(u,E){return u[1]?Ot:u[0]?Nt:Bt}let S=G(s),y=S(s);return{c(){x&&x.c(),a=kt(),e=V(),c=p("div"),i=p("div"),m=p("div"),o=p("div"),n=p("a"),n.textContent=h,b=V(),v=p("span"),v.textContent=j,D=V(),L=p("span"),w=O(T),A=V(),z=p("section"),y.c(),this.h()},l(u){const E=Tt("svelte-1ikar10",document.head);x&&x.l(E),a=kt(),E.forEach(d),e=I(u),c=f(u,"DIV",{class:!0});var P=g(c);i=f(P,"DIV",{class:!0});var Q=g(i);m=f(Q,"DIV",{class:!0});var W=g(m);o=f(W,"DIV",{class:!0});var $=g(o);n=f($,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(n)!=="svelte-c1cieu"&&(n.textContent=h),b=I($),v=f($,"SPAN",{class:!0,"data-svelte-h":!0}),F(v)!=="svelte-rv2734"&&(v.textContent=j),D=I($),L=f($,"SPAN",{class:!0});var C=g(L);w=N(C,T),C.forEach(d),$.forEach(d),W.forEach(d),Q.forEach(d),A=I(P),z=f(P,"SECTION",{class:!0});var M=g(z);y.l(M),M.forEach(d),P.forEach(d),this.h()},h(){l(n,"href","/"),l(n,"class","text-primary-magenta hover:text-primary-purple transition-colors font-medium"),l(v,"class","text-text-secondary"),l(L,"class","text-text-secondary"),l(o,"class","flex items-center gap-2 text-sm"),l(m,"class","max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-4"),l(i,"class","border-b border-gray-200 bg-bg-secondary"),l(z,"class","max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-12"),l(c,"class","min-h-screen bg-bg-primary")},m(u,E){x&&x.m(document.head,null),r(document.head,a),q(u,e,E),q(u,c,E),r(c,i),r(i,m),r(m,o),r(o,n),r(o,b),r(o,v),r(o,D),r(o,L),r(L,w),r(c,A),r(c,z),y.m(z,null)},p(u,[E]){var P;E&1&&t!==(t=(u[0]?u[0].name:"Error")+" | "+Ct.identity.name)&&(document.title=t),u[0]?x?x.p(u,E):(x=It(u),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),E&1&&T!==(T=(((P=u[0])==null?void 0:P.name)||"Producto")+"")&&X(w,T),S===(S=G(u))&&y?y.p(u,E):(y.d(1),y=S(u),y&&(y.c(),Et(y,1),y.m(z,null)))},i(u){Et(y)},o:J,d(u){u&&(d(e),d(c)),x&&x.d(u),d(a),y.d()}}}function Qt(s,t,a){let e,c,{data:i}=t;const m=Ht.format;function o(){e&&(At.addProduct(e),alert(`${e.name} añadido al carrito!`))}return s.$$set=n=>{"data"in n&&a(4,i=n.data)},s.$$.update=()=>{s.$$.dirty&16&&a(0,e=i.product),s.$$.dirty&16&&a(1,c=i.error)},[e,c,m,o,i]}class te extends Vt{constructor(t){super(),Dt(this,t,Qt,Jt,Pt,{data:4})}}export{te as component,Zt as universal};
